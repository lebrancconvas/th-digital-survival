# การยืนยันตัวตนและรหัสผ่าน

รหัสผ่านเป็นเครื่องมือที่อยู่กับโลกออนไลน์มายาวนาน และปฏิเสธไม่ได้ว่าเป็นหนึ่งในเป้าหมายการโจมตี การขโมยรหัสผ่านหมายถึงการขโมยตัวตนบนโลกออนไลน์ ตั้งแต่บัญชีสื่อสังคมออนไลน์จนถึงการทำธุรกรรมที่เกี่ยวข้องกับการเงิน

แต่รหัสผ่านไม่ใช่วิธีเดียวที่เราสามารถใช้ยืนยันตัวตนบนโลกออนไลน์ บทความนี้จะพูดถึงกระบวนการยืนยันตัวตนและการใช้รหัสผ่านเพื่อให้เกิดความปลอดภัยสูงสุดกับผู้ใช้

## รหัสผ่าน

เราอาจจะรู้สึกว่ากลไกของรหัสผ่านไม่ซับซ้อน อย่างไรก็ตาม เคยสงสัยหรือไม่ว่า

- ผู้ใช้บริการรู้รหัสผ่านของเราหรือเปล่า
- มีโอกาสหรือไม่ที่ผู้ประสงค์ร้ายซึ่งทำงานในบริษัทของผู้ให้บริการ จะขโมยรหัสผ่านของเราไปใช้กับที่อื่น

เราจำเป็นต้องพูดถึงวิธีการที่ระบบต่างๆ เก็บรหัสผ่านกันโดยคร่าวเล็กน้อย

### Hashing - การเก็บ "ตัวแทน" ของรหัสผ่าน

![image](https://user-images.githubusercontent.com/3682634/103720880-f07ddd00-4ffe-11eb-8e5f-9cca20eb887d.png)

เมื่อเราสมัตรบริการอะไรก็ตาม ผู้ให้บริการจะนำรหัสผ่านของเราที่เรากรอก ไปผ่าน "กล่องมหัศจรรย์" จนออกมาเป็นอักษรอะไรบางอย่าง และเก็บอักษรชุดนั้นเป็น "ตัวแทน" ของรหัสผ่าน ไม่ได้เก็บรหัสผ่านของเรา

![image](https://user-images.githubusercontent.com/3682634/103721297-e7d9d680-4fff-11eb-8bc1-6e5f5c03014c.png)

สิ่งที่ทำให้กลไกของ "กล่องมหัศจรรย์" ปลอดภัยคือ__กล่องมหัศจรรย์สามารถใช้เปลี่ยนรหัสผ่านที่เราพิมพ์เป็นค่าตัวแทนได้ แต่จะไม่สามารถเปลี่ยนตัวแทนกลับไปเป็นรหัสผ่านได้__ การกระทำเช่นนี้ทำให้เรามั่นใจได้สองอย่าง: ผู้ให้บริการเว็บไซต์ไม่สามารถเห็นรหัสผ่านจริงๆ ของเราได้ และในกรณีที่รหัสผ่านของเรารั่ว สิ่งที่รั่วคือตัวแทนของรหัสผ่าน ไม่ใช่รหัสผ่านจริงๆ

![image](https://user-images.githubusercontent.com/3682634/104031953-06a6bb80-5200-11eb-8e90-553c2a1ceb89.png)

ชื่ออย่างเป็นทางการของกล่องมหัศจรรย์คือ __hash function__ และเราเรียกค่าตัวแทนที่ออกมาจาก hash function ว่า __digest__

### Rainbow table - ในเมื่อหา

เพราะเรารู้ว่าการเปลี่ยนรหัสผ่านเป็นตัวแทนสามารถทำได้ แต่ไม่สามารถเปลี่ยนตัวแทนของรหัสผ่านเป็นอะไร ดังนั้นหากเราถามว่ารหัสผ่านอะไรที่เมื่อใส่ในกล่องมหัศจรรย์แล้วจะได้ออกมาเป็น `03cfd743661f07975fa2f1220c5194cbaff48451` ก็ควรจะตอบไม่ได้

จริงหรือเปล่า?

![image](https://user-images.githubusercontent.com/3682634/104032762-330f0780-5201-11eb-83c4-76887847d0fc.png)

ในทางปฏิบัติ เราสามารถค่อยๆ เอารหัสผ่านใส่เข้าไปในกล่องทีละตัว เริ่มตั้งแต่ a, b, c, ... ไล่ไปเรื่อยๆ แล้วเก็บประวัติไว้ว่าค่าตัวแทนค่าหนึ่งได้มาจากการเอารหัสผ่านใดไปใส่ในกล่องมหัศจรรย์

![image](https://user-images.githubusercontent.com/3682634/104033071-9f8a0680-5201-11eb-88dc-7e1d245ae81d.png)

เราเรียกตารางที่เก็บค่าในลักษณะนี้ว่า __rainbow table__ และจะสังเกตเห็นได้ว่า หากรหัสผ่านของเราไม่อยู่ในข้อความที่ผู้สร้าง rainbow table ก็จะไม่สามารถถอดกลับจากตัวแทนรหัสผ่านออกมาเป็นรหัสผ่านจริงๆ ได้

![image](https://user-images.githubusercontent.com/3682634/104033657-6605cb00-5202-11eb-8e82-75c80f49c171.png)

เหตุผลหลักที่เราตั้งรหัสผ่านให้ไม่ซ้ำกับรหัสผ่านที่ผู้อื่นใช้อยู่ คือ__เพื่อลดโอกาสที่รหัสผ่านที่เราใช้จะไปอยู่ใน rainbow table__ ภาพข้างต้นทดลองนำตัวแทนรหัสผ่านไปค้นหารหัสผ่านตั้งต้นบนบริการ rainbow table บนเว็บไซต์ https://crackstation.net/ จะสังเกตได้ว่าสามในห้าของรหัสผ่านคือ `password`, `P@ssw0rd` และ `P@ssw0rd!` ซึ่งเป็นรหัสผ่านที่มีการใช้ซ้ำจำนวนมาก

รหัสผ่านสองรหัสผ่านที่เหลือ (ที่ไม่พบใน rainbow table) คือ `P@ssw0rd!!!` และ `B5jYH5zsLc35$8z^` ตามลำดับ

